\documentclass[preview]{standalone}
\input{prelude}


\begin{document}

\section{View}
Views are the central objective of this thesis. The purpose of a \viewN is to obtain a simplification of a given \chosengraphtypeN.  It is an independent \chosengraphtypeN derived from a given \chosengraphtypeN and represents a (simplified) \viewN on the given one - hence the name. Thereby the original \chosengraphtypeN is retained.

In the preliminaries transition systems and Markov Chains were listed as simpler version of \mdpsN. More specifically transition systems and \mdpsN are special \mdpsN namely that have no probability distribution in each state for each action or no actions. When defining \viewsN it seems feasible to do so for the most general system of the ones of consideration.That is why we will define views on \mdpsN. Only for specific views and their implementation it is to be kept in mind that if they regard an action or the probability distribution of action in a state it is not applicable to transitions systems or MCs respectively. \redcomment{topic init states}

\subsection{Grouping Function}
The conceptional idea of a \viewN is to group states by some criteria and structure the rest of the system accordingly. To formalize the grouping we define a dedicated function.

\begin{definition}
	Let $\chgph = \chgphtuple$ be \chosengraphtypeN an \arbset be and arbitrary set. We call any function $F : \states \to \imggrp$ a \emph{\grpfctN}.
	
	\label{def:grpfct}
\end{definition}


Two states are \redcomment{grouped (should be Definition?)} to a new state if and only if the grouping function maps them to the same value. The definition offers an easy way of defining groups of states. It is also very close to the actual implementation later on. The exact mapping depends on the desired grouping. In order to define a new set of states for the \viewN, we define an equivalence relation \eqrelview based on a given grouping function \grpfct.

\begin{definition}
	Let \grpfct be a grouping function. We define the equivalence relation $\eqrelview :=\{ (\state_1, \state_2) \in \states \times \states \mid \grpfct(\state_1) = \grpfct(\state_2)\}$
	
	\label{def:eqrelview}
\end{definition}

\eqrelview is an equivalence relation because the equality relation is one. The property directly conveys to \eqrelview. We observe that two states $\state_1, \state_2$ are grouped to a new state if and only if $(\state_1, \state_2) \in \eqrelview$. This is the case if and only if $\state_1, \state_2 \in \eqclassv{\state_1} = \eqclassv{\state_2}$ where $\eqclassv{\state_i}$ for $i \in \{1,2\}$ denotes the equivalence class of \eqrelview.

\subsection{Formal Definition}

The definition of a \viewN is dependent on a given MDP and a \grpfctN \grpfct. We derive the equivalence relation \eqrelview as in Definition \ref{def:eqrelview} and use its equivalence classes \eqclassv{s} ($\state \in \states$) as states for the \viewN. The rest of the \chosengraphtypeN is structured accordingly.


\begin{definition}
	
	Let \chgph = \chgphtuple be \chosengraphtypeN and \grpfct a grouping function. A \emph{\viewN} \view{\viewppty} is \chosengraphtypeN $\mdp' = \chgphtupledist$ \redcomment{that is derived from \mdp with the \grpfctN \grpfct} where
	
	\begin{itemize}
		\item $\states' = \{ \eqclass{\state}{\eqrelview} \mid \state \in \states \}$
		%\eqclass{s}
		
		\item $\actions' = \actions$
		
		\redcomment{\item $\trans' = \{ (\eqclassv{\state_1}, \action, \eqclassv{\state_2}) \mid \exists \state_1 \in \eqclassv{\state_1} \exists \state_2 \in \eqclassv{\state_2} : (\eqclassv{\state_1}, \action, \eqclassv{\state_2}) \in \trans\}$}%\subseteq \states' \times \actions' \times \states'$
		
		\item $\init' = \{\eqclassv{\state'} \in \states' \mid \exists \state \in \eqclassv{\state'} : \state \in \init \}$
		
		\item $\labelingfct': \states' \to \powerset{\atomicprops}, \eqclassv{\state}\mapsto \bigcup_{\state \in \eqclassv{\state}} \{\labelingfct(\state)\}$
		
	\end{itemize}
	
	and \eqrelview is the equivalence relation according to Definition \ref{def:eqrelview}.
	

	\label{def:view}	
\end{definition}

Note that the definition is in a most general form in the sense that if in a \viewN a property accounts to one piece of some entity the whole entity receives the property i.e. 
\begin{itemize}	
	\item $(\state_1, \action, \state_2) \in \trans \impr (\eqclassv{\state_1}, \action, \eqclassv{\state_2}) \in \trans'$
	\item $\state \in \init \impr \eqclassv{\state} \in \initdistrib'$
	\item $\forall \state \in \states : \labelingfct(\state) \in \labelingfct'(\eqclassv{\state})$
	%	$\labelingfct(\state) =: \atomicprop \impr \atomicprop \in \labelingfct(\eqclassv{\state})$
\end{itemize}

\subsection{Composition of Views}
In essence views are simplification generated from \chosengraphtypeN. It seems rather obvious that the composition of views is a very practical feature. Therefore in this chapter we will introduce, formalize and discuss different notions of compositions. All variants will ensure that the effect caused by each partaking views also takes effect in the composed view. Moreover it is to be generated in a way that the effect of each individual view can be reverted from the composed one. There may be restrictions in the order of removal.

\subsubsection{\parllcompNCC}
One of the most uncomplicated ideas is to group states that match in the function value of all given \grpfctN s. This idea is parallel in the sense that a set of \grpfctN is combined to a new \grpfctN in one single step.
\begin{definition}
	Let $\grpfct_1, \grpfct_2, \dots, \grpfct_n$ be \grpfctN s. A \emph{parallel composed \grpfctN} is a \grpfctN $\grpfct_{\grpfct_1 \pll \grpfct_2 \pll \dots \pll \grpfct_n}: \states \to \arbset$, $\state \mapsto (\grpfct_1(\state), \grpfct_2(\state), \dots, \grpfct_n(\state))$.
		
\end{definition}

A view of such a grouping function is as usual created in in accordance with Definition \ref{def:view}. Furthermore it is obvious that the effect of a view is considered in the new grouping function and hence the view.
Since we define a new grouping function, the given ones and its views are retained. \\
The operator \pll used in the definition is derived from the operator used in electric circuits, when the respective elements are connected in parallel. \\
If we want to speak about this grouping function in a general way, where it is only of importance that we refer to this type of composition and the given \grpfctN s are of no importance, we will denote a \emph{\parllcompN \grpfctN} with $\grpfct_{\pll}$. \\

\redcomment{Other variants missing if existent}
\redcomment{Subsetapplication missing}


\end{document}
